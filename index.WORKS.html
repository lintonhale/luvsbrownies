<!DOCTYPE html>
<html>
	<head>
		<title>View Navigator Sample</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

		<script src="js/jquery-1.7.1.js"></script>
		<script src="js/jquery.animate-enhanced.js"></script>
		<script src="js/iscroll.js"></script>
		<script src="js/noClickDelay.js"></script>

		<link rel="stylesheet" href="css/viewnavigator.css" type="text/css" />
		<script src="js/viewnavigator.js"></script>

		<script>

			$(document).ready( function() {

				//Setup the default view
				var defaultView = getView();
				defaultView.backLabel = null;

				//Setup the ViewNavigator
				window.viewNavigator = new ViewNavigator( 'body' );
				window.viewNavigator.pushView( defaultView );


			} );

			function pushView() {
				//create a view and push it onto the view navigator
				var view = getView();
				window.viewNavigator.pushView( view );
			}

			function popView() {
				//pop a view from the view navigator
				window.viewNavigator.popView();
			}

			function getView() {
				//create a view descriptor
				var bodyView = $('<div>' + Math.random().toString() + '<hr><li href="#" onclick="pushView()" class="viewNavigator_backButton">push view</li> <li href="#" onclick="popView()" class="viewNavigator_backButton">pop view</li><hr>' + getGroups() + '</div>');
				var links = bodyView.find('a');

				return { title: "Default View " + parseInt(Math.random()*1000),
						 backLabel: "Back",
						 view:  bodyView
					   };
			}

			function getGroups() {
				//
				var foodgroups = [[0,'GRAIN'],[1,'FRUIT']];
//				3,'VEGETABLE'
//				4,'PROTEIN'
//				5,'DAIRY'
//				6,'OTHER'

    
				var iterations = 2;
				var result = "";
				for ( var i = 0; i < iterations; i ++ ) {
					result += foodgroups[i][1] + "<hr>"
				}
				return result;
			}

		</script>

	</head>
	<body></body>
</html>
